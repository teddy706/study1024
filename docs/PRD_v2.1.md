# PRD v2.1 — 영업사원을 위한 고객관리 및 리포팅 웹앱

---

## 1. 개요 (Overview)

이 웹앱은 기업 및 공공 영업팀을 위한 고객관리 자동화와 리포팅을 목표로 합니다. 명함 등록부터 고객 DB 구축, 통화 기록 요약, 맞춤형 리포트 생성, 일정 관리까지 영업 프로세스를 효율적으로 지원합니다. 주요 사용자는 B2B/B2G 영업사원, 영업 관리자, 지원팀입니다.

---

## 2. 주요 기능 요약 (Feature Summary)

| 기능코드 | 기능명                | 설명                                      |
|----------|----------------------|-------------------------------------------|
| F1       | 명함 OCR 등록        | 명함 이미지에서 고객정보 자동 추출         |
| F2       | 고객 DB 관리         | 고객정보 CRUD 및 검색/필터링              |
| F3       | 통화 STT 요약        | 통화 녹음 파일을 텍스트로 변환 및 요약     |
| F4       | AI 리포트 생성       | 고객별 맞춤형 영업 리포트 자동 생성        |
| F5       | 일정/알림 관리       | 캘린더 연동 일정 등록 및 뉴스/이벤트 알림  |
| F6       | 소통/액션 기록       | 고객과의 소통 및 액션 이력 관리            |

---

## 3. 기술 스택 (Tech Stack)

| 구성요소         | 설명                                  |
|------------------|---------------------------------------|
| n8n              | 워크플로우 자동화                     |
| Retool           | 관리자 UI/대시보드                    |
| Supabase         | DB 및 인증/스토리지                   |
| Vision AI        | 명함 OCR                              |
| Whisper STT      | 통화 음성 텍스트 변환                 |
| GPT-4o-mini      | AI 요약/리포트 생성                   |
| Apify            | 뉴스/이벤트 크롤링                    |
| Calendar API     | 일정/알림 연동                        |
| Render           | 클라우드 배포                         |

---

## 4. 시스템 아키텍처 (Architecture)

```
[Retool UI]
   ↓
[n8n Workflow]
   ↓
[Vision AI / Whisper STT / GPT-4o-mini / Apify]
   ↓
[Supabase DB & Storage]
   ↓
[Retool UI]
```

---

## 5. 데이터 스키마 요약 (Data Schema)

- **Contacts**: 고객 기본정보, 명함 OCR 결과, 메타데이터
- **Reports**: 고객별 AI 리포트, 요약, 감성점수
- **Calls**: 통화 녹음, STT 결과, 요약, 액션
- **Actions**: 소통/업무 이력, 후속조치, 담당자
- **SmalltalkCache**: 고객별 소소한 대화/관심사 캐시

---

## 6. 기능 상세 (Feature Details)

### F1. 명함 OCR 등록
- 입력: 명함 이미지
- 처리: Vision AI OCR → 정보 추출 → DB 저장
- 출력: 고객정보(이름, 회사, 연락처 등)

### F2. 고객 DB 관리
- 입력: 고객정보(수동/자동)
- 처리: CRUD, 검색/필터, 중복검사
- 출력: 고객 목록, 상세정보

### F3. 통화 STT 요약
- 입력: 통화 녹음 파일
- 처리: Whisper STT → 텍스트 변환 → GPT 요약
- 출력: 통화 요약, 주요 키워드

### F4. AI 리포트 생성
- 입력: 고객정보, 통화/액션 이력
- 처리: GPT-4o-mini 프롬프트 → 리포트 생성
- 출력: 맞춤형 영업 리포트, 감성점수

### F5. 일정/알림 관리
- 입력: 일정, 뉴스/이벤트
- 처리: Calendar API 연동, Apify 크롤링
- 출력: 캘린더, 알림 리스트

### F6. 소통/액션 기록
- 입력: 소통 내용, 액션 이력
- 처리: DB 저장, 후속조치 관리
- 출력: 액션 타임라인, 담당자별 이력

---

## 7. 사용자 시나리오 (User Scenarios)

- 영업사원이 명함을 촬영해 등록 → 자동 고객 DB 생성
- 통화 후 녹음 파일 업로드 → STT 및 요약 자동 저장
- 고객별 리포트 요청 → AI 기반 맞춤 리포트 생성
- 일정 등록 및 뉴스/이벤트 알림 수신
- 소통/액션 이력 관리로 후속 영업 활동 지원

---

## 8. 개발 단계 (Development Phases)

1. 데이터베이스 및 인증 구축
2. 명함 OCR 및 고객 DB 기능 개발
3. 통화 STT 및 요약 기능 개발
4. 리포트/알림/일정 기능 개발
5. UI/UX 개선 및 관리자 대시보드 구현
6. 클라우드 배포 및 운영 자동화

---

## 9. 리스크 및 대응 (Risks & Mitigation)

| 리스크                | 대응 방안                          |
|-----------------------|------------------------------------|
| OCR/AI 인식 오류      | 수동 수정 기능, 모델 튜닝           |
| 개인정보 보호         | 암호화, 접근제어, 로그 관리         |
| 외부 API 장애         | 캐싱, 대체 API, 장애 알림           |
| 데이터 동기화 문제    | 트랜잭션 관리, 백업/복구            |
| UI/UX 복잡성          | 단계별 가이드, 피드백 반영          |

---

## 10. KPI

- 명함 등록→DB 자동화율
- 통화 요약 정확도
- 리포트 생성 시간
- 일정/알림 반응률
- 사용자 월간 활성도

---

## 11. 향후 확장 (Future Expansion)

- 외부 CRM/ERP 연동
- 모바일 앱 지원
- 다국어/다문화 고객 대응
- 영업팀별 커스텀 워크플로우
- 챗봇/음성비서 통합
